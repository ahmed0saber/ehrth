<html>
  <head>
    <title>2048 puzzle</title>
    <style>
      body{
      margin: 0;
      }
      #container{
        height: 400px;
        width: 500px;
        background-color: #333;
        margin: auto;
      }
      p{
        color: #EEE;
        text-align: center;
        padding-top: 10px;
      }
      table , tr , td{
border : 2px solid black ;
border-radius: 5px;
}
input{
  width: 50px;
  height: 50px;
  text-align: center;
  font-size: 12px;
  border-radius: 5px;
}
button{
  border-radius: 5px;
  height: 30px;
  width: 50px;
  background-color: #99F;
}
button:hover{
  background-color: #44F;
  border-radius: 8px;
  transition-duration: 700ms;
}
table{
  background-color: #CCE;
}
#div1 , #div2{
  width: 250px;
  height: 450px;
  text-align: center;
  border-radius: 10px;
  background-color: #AAC;
}
#send , #new1{
  width: 100px;
}
    </style>
<script>
var _array=[] ;
var i , rand , n , score=0;
function new_turn(){
  document.getElementById("p1").innerHTML = "Score : " + score.toString();
  //get a random number from 0 to 15
  rand=Math.floor((Math.random() * 16));
  //then put 2 in its cell
  if(_array[rand]<2){
  _array[rand]=2;
  document.getElementById(rand.toString()).value=2;}
  else{new_turn();}
  //colors
  for(i=0;i<16;i++){
    if(_array[i]=="")
	  {document.getElementById(i.toString()).style.backgroundColor="#FFFFFF";}
	if(_array[i]==2)
	  {document.getElementById(i.toString()).style.backgroundColor="#EEEEFF";}
	if(_array[i]==4)
	  {document.getElementById(i.toString()).style.backgroundColor="#DDDDFF";}
	if(_array[i]==8)
	  {document.getElementById(i.toString()).style.backgroundColor="#CCCCFF";}
	if(_array[i]==16)
	  {document.getElementById(i.toString()).style.backgroundColor="#BBBBFF";}
	if(_array[i]==32)
	  {document.getElementById(i.toString()).style.backgroundColor="#AAAAFF";}
	if(_array[i]==64)
	  {document.getElementById(i.toString()).style.backgroundColor="#9999FF";}
	if(_array[i]==128)
	  {document.getElementById(i.toString()).style.backgroundColor="#8888FF";}
	if(_array[i]==256)
	  {document.getElementById(i.toString()).style.backgroundColor="#7777FF";}
	if(_array[i]==512)
	  {document.getElementById(i.toString()).style.backgroundColor="#6666FF";}
	if(_array[i]==1024)
	  {document.getElementById(i.toString()).style.backgroundColor="#5555FF";}
	if(_array[i]==2048)
	  {document.getElementById(i.toString()).style.backgroundColor="#4444FF";}
  }
}
function new_game(){
  score=0;
  //let all cells equal zero
  for(i=0;i<16;i++){
  _array[i]="";
  document.getElementById(i.toString()).value="";}
  new_turn();
}
function to_right(){
  for(var right=0;right<=12;right+=4)
  {
  for(i=right+2;i>=right;i--){
    for(n=i;n<right+3;n++){
      if(_array[n+1]<2){
	    _array[n+1]=_array[n];
		_array[n]="";
	    document.getElementById(n.toString()).value="";
	    document.getElementById((n+1).toString()).value=_array[n+1];
	  }
	  if((_array[n+1]==_array[n])&(_array[n+1]>0)){
	    _array[n+1]=_array[n] + _array[n+1];
		  score += _array[n + 1];
		  _array[n]="";
	    document.getElementById(n.toString()).value="";
	    document.getElementById((n+1).toString()).value=_array[n+1];
	  }
	}
  }
  }
  new_turn();
}
function to_left(){
  for(var left=0;left<=12;left+=4){
  for(i=left;i<=left+3;i++){
    for(n=i;n>left;n--){
      if(_array[n-1]<2){
	    _array[n-1]=_array[n];
		  _array[n]="";
	    document.getElementById(n.toString()).value="";
	    document.getElementById((n-1).toString()).value=_array[n-1];
	  }
	  if((_array[n-1]==_array[n])&(_array[n-1]>0)){
	    _array[n-1]=_array[n] + _array[n-1];
		  score += _array[n - 1];
		  _array[n]="";
	    document.getElementById(n.toString()).value="";
	    document.getElementById((n-1).toString()).value=_array[n-1];
	  }
	}
  }
}
  new_turn();
}
function to_top(){
  for(var top=0;top<=3;top++){
  for(i=top;i<=top+12;i+=4){
    for(n=i;n>top;n-=4){
      if(_array[n-4]<2){
	    _array[n-4]=_array[n];
		_array[n]="";
	    document.getElementById(n.toString()).value="";
	    document.getElementById((n-4).toString()).value=_array[n-4];
	  }
	  if((_array[n-4]==_array[n])&(_array[n-4]>0)){
	    _array[n-4]=_array[n] + _array[n-4];
		  score += _array[n - 4];
		  _array[n]="";
	    document.getElementById(n.toString()).value="";
	    document.getElementById((n-4).toString()).value=_array[n-4];
	  }
	}
  }
  }
  new_turn();
}
function to_down(){
  for(var down=0;down<=3;down++){
  for(i=down+12;i>=down;i-=4){
    for(n=i;n<down+12;n+=4){
      if(_array[n+4]<2){
	    _array[n+4]=_array[n];
		_array[n]="";
	    document.getElementById(n.toString()).value="";
	    document.getElementById((n+4).toString()).value=_array[n+4];
	  }
	  if((_array[n+4]==_array[n])&(_array[n+4]>0)){
	    _array[n+4]=_array[n] + _array[n+4];
		  score += _array[n + 4];
		  _array[n]="";
	    document.getElementById(n.toString()).value="";
	    document.getElementById((n+4).toString()).value=_array[n+4];
	  }
	}
  }
  }
  new_turn();
}
</script>
  </head>
  <body>
    <div id="container">
      <table>
        <tr>
          <td>
      <div id="div1">
<p><b>2048 puzzle</b></p>
<p id="p1">Score : 0</p>
<table align="center">
<tr>
<td><input type="number" disabled="true" id="0"></td>
<td><input type="number" disabled="true" id="1"></td>
<td><input type="number" disabled="true" id="2"></td>
<td><input type="number" disabled="true" id="3"></td>
</tr>
<tr>
<td><input type="number" disabled="true" id="4"></td>
<td><input type="number" disabled="true" id="5"></td>
<td><input type="number" disabled="true" id="6"></td>
<td><input type="number" disabled="true" id="7"></td>
</tr>
<tr>
<td><input type="number" disabled="true" id="8"></td>
<td><input type="number" disabled="true" id="9"></td>
<td><input type="number" disabled="true" id="10"></td>
<td><input type="number" disabled="true" id="11"></td>
</tr>
<tr>
<td><input type="number" disabled="true" id="12"></td>
<td><input type="number" disabled="true" id="13"></td>
<td><input type="number" disabled="true" id="14"></td>
<td><input type="number" disabled="true" id="15"></td>
</tr>
</table>
</br>
<table align="center">
  <tr>
    <td><button onclick="to_left()">Left</button></td>
    <td><button onclick="to_right()">Right</button></td>
    <td><button onclick="to_top()">Top</button></td>
    <td><button onclick="to_down()">Down</button></td>
  </tr>
</table>
</br>
<button onclick="new_game()" id="new1">New Game</button>
<button onclick="send_score()" id="send">Submit Score</button>
</div>
</td>
<td>
  <div id="div2">
    <p><b>Leaderboard</b></p>
  </div>
  </td>
  </tr>
  </table>
    </div>
  </body>
</html>
